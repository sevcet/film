<!DOCTYPE html>
<html>
<head>
    <title>Android TV Plejer</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        .iframe-container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <div class="iframe-container">
        <iframe id="videoPlayer" src="https://vidsrc.to/embed/movie/614933"></iframe>
    </div>

    <script>
        function blockPopups() {
            const iframe = document.getElementById('videoPlayer');
            if (iframe && iframe.contentWindow) {
                // Selektujemo sve linkove unutar iframe-a
                const links = iframe.contentWindow.document.querySelectorAll('a');

                // Iteriramo kroz linkove i postavljamo im onclick handler koji ih sprečava da otvaraju novi prozor
                links.forEach(link => {
                    link.onclick = function(event) {
                        event.preventDefault();
                        event.stopPropagation();
                        return false;
                    };
                });

                // Dodatno, možemo pokušati ukloniti sve elemente koji imaju klasu 'ad' ili 'popup'
                const ads = iframe.contentWindow.document.querySelectorAll('.ad, .popup');
                ads.forEach(ad => ad.remove());

                // Sprečavanje otvaranja novih prozora pomoću window.open u skripti unutar iframe-a
                const script = `
                    window.open = function() { return null; };
                `;
                const blob = new Blob([script], { type: 'application/javascript' });
                const url = URL.createObjectURL(blob);
                const iframeScript = document.createElement('script');
                iframeScript.src = url;
                iframeScript.onload = () => URL.revokeObjectURL(url);
                iframe.contentWindow.document.head.appendChild(iframeScript);
            }
        }

        // Funkcija koja se izvršava na svakih 2 sekunde radi blokiranja pop-up prozora
        setInterval(() => {
            blockPopups();
        }, 2000);
    </script>
</body>
</html>
